sudo apt install aptitude

# install nix and home-manager
# https://nixos.org/download.html
# https://nix-community.github.io/home-manager/index.html#sec-install-standalone
sudo sh <(curl -L https://nixos.org/nix/install) --daemon
nix-channel --add https://github.com/nix-community/home-manager/archive/master.tar.gz home-manager
nix-channel --update
export NIX_PATH=$HOME/.nix-defexpr/channels:/nix/var/nix/profiles/per-user/root/channels${NIX_PATH:+:$NIX_PATH}
nix-shell '<home-manager>' -A install

# to enable using nix packages
# add /home/perlinm/.nix-profile/bin to PATH in /etc/environment

# update default terminal emulator
sudo update-alternatives --config x-terminal-emulator

######################################################################
# for sway

# to enable wayland mode for firefox
echo "MOZ_ENABLE_WAYLAND=1" >> /etc/environment

# to fix screen sharing in Teams
sudo aptitude remove xdg-desktop-portal-gnome

# for swaync
cd ~/src && git clone git@github.com:ErikReider/SwayNotificationCenter.git
sudo aptitude install build-essential meson valac gobject-introspection scdoc
sudo aptitude install libwayland-dev libgtk-3-dev libgirepository1.0-dev libjson-glib-dev libhandy-1-dev libgtk-layer-shell-dev

######################################################################
# for i3

# install teams
sudo snap install teams-for-linux

# install i3-gnome: https://github.com/i3-gnome

# print to /etc/X11/xorg.conf.d/20-screen.conf
Section "Device"
    Identifier "Intel Graphics"
    Driver "intel"
    Option "Backlight" "intel_backlight"
EndSection

# print to /etc/X11/xorg.conf.d/30-touchpad.conf
Section "InputClass"
    Identifier "devname"
    Driver "libinput"
    MatchIsTouchpad "on"

    Option "NaturalScrolling" "true"
    Option "ScrollMethod" "twofinger"
    Option "ClickMethod" "clickfinger"
    Option "Tapping" "true"
    Option "AccelProfile" "adaptive"
    Option "AccelSpeed" "0.5"

    Option "DisableWhileTyping" "on"
    Option "PalmDetect" "on"
EndSection
