sudo apt install aptitude

# install nix and home-manager
# https://nixos.org/download.html
# https://nix-community.github.io/home-manager/index.html#sec-install-standalone
sudo sh <(curl -L https://nixos.org/nix/install) --daemon
nix-channel --add https://github.com/nix-community/home-manager/archive/master.tar.gz home-manager
nix-channel --update
export NIX_PATH=$HOME/.nix-defexpr/channels:/nix/var/nix/profiles/per-user/root/channels${NIX_PATH:+:$NIX_PATH}
nix-shell '<home-manager>' -A install

# to enable using nix packages
# add /home/perlinm/.nix-profile/bin to PATH in /etc/environment

# update default terminal emulator
sudo update-alternatives --config x-terminal-emulator

# print to /etc/X11/xorg.conf.d/20-screen.conf
Section "Device"
    Identifier "Intel Graphics"
    Driver "intel"
    Option "Backlight" "intel_backlight"
EndSection

# print to /etc/X11/xorg.conf.d/30-touchpad.conf
Section "InputClass"
    Identifier "devname"
    Driver "libinput"
    MatchIsTouchpad "on"

    Option "NaturalScrolling" "true"
    Option "ScrollMethod" "twofinger"
    Option "ClickMethod" "clickfinger"
    Option "Tapping" "true"
    Option "AccelProfile" "adaptive"
    Option "AccelSpeed" "0.5"

    Option "DisableWhileTyping" "on"
    Option "PalmDetect" "on"
EndSection
